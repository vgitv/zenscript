#!/bin/bash
set -euo pipefail

# Archive some files into $rootpath subfolders.
# Usage:
# archive *

FZF_ARGS=(--height=25 --layout=reverse)

rootpath="$HOME"/Documents/administratif

for elt in "$@"; do
    target="$(find "$rootpath" -mindepth 1 -maxdepth 1 -type d -exec basename {} \; | sort | fzf "${FZF_ARGS[@]}" --prompt="Archive ${elt} > ")"
    mv -iv "$elt" "${rootpath}/${target}/$(date +%Y%m%d)-${elt}"
done
